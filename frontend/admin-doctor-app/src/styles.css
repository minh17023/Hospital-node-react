/* ===== Base: chặn scroll toàn trang, chỉ cuộn trong vùng nội dung ===== */
html, body, #root { height: 100%; overflow: hidden; }

/* ===== Theme tokens (giữ y như bạn đang dùng) ===== */
:root{
  --shell-dark: #0f172a;
  --shell-dark-2: #111827;
  --shell-border: rgba(255,255,255,.08);
  --shell-fg: #e2e8f0;
  --shell-fg-muted: rgba(226,232,240,.7);
  --accent: #14b8a6;

  /* layout */
  --topbar-h: 56px;
}

/* ===== App shell (giới hạn chiều cao chuẩn) ===== */
.app-shell{ display:flex; flex-direction:column; height:100%; }
.app-content{
  display:flex; height:calc(100vh - var(--topbar-h)); min-height:0;
}
.app-sidebar{
  width:250px; flex:0 0 250px; min-height:100%; overflow:hidden;
}
.app-main{
  flex:1 1 auto; min-width:0; min-height:0; display:flex; flex-direction:column;
}

/* ===== Trang chuẩn: phần thân cuộn nội bộ ===== */
.page{ flex:1 1 auto; min-height:0; display:flex; flex-direction:column; overflow:hidden; }
.page-body{ flex:1 1 auto; min-height:0; display:flex; flex-direction:column; }
.card-grow{ flex:1 1 auto; min-height:0; display:flex; flex-direction:column; }

/* ===== Bảng cuộn + header dính ===== */
.table-scroll{ flex:1 1 auto; min-height:0; overflow:auto; }
.table-sticky thead th{
  position: sticky; top: 0; z-index: 2; background: var(--bs-light);
}

/* Mobile: hạ chiều cao khu vực cuộn nếu có khung riêng */
@media (max-width: 992px){
  .table-scroll{ max-height: 50vh; }
}

/* ===== Topbar / Sidebar như bạn đang dùng ===== */
.sidebar{
  min-height: calc(100vh - var(--topbar-h));
  background: var(--shell-dark); color: var(--shell-fg);
}
.sidebar .section{ padding:12px 16px; border-bottom:1px solid rgba(255,255,255,.06); }
.sidebar .caption{ text-transform:uppercase; font-size:.72rem; opacity:.8; letter-spacing:.6px; }
.sidebar .nav .nav-link{ color:#cbd5e1; border-radius:10px; margin:4px 8px; padding:.55rem .75rem; }
.sidebar .nav .nav-link:hover{ color:#fff; background:#1f2937; }
.sidebar .nav .nav-link.active{
  color:#fff; background: var(--accent);
  box-shadow: 0 2px 8px rgba(18,184,134,.35);
}
.sidebar .foot{ border-top:1px solid rgba(255,255,255,.06); padding:10px; font-size:.75rem; opacity:.8; }

.topbar{
  height: var(--topbar-h);
  background: var(--shell-dark);
  border-bottom: 1px solid var(--shell-border);
  box-shadow: 0 2px 8px rgba(2,6,23,.28);
}
.topbar, .topbar .navbar-brand, .topbar .nav-link, .topbar .btn{ color:#4d95f5; }
.topbar .navbar-toggler { border-color: var(--shell-fg-muted); }
.topbar .navbar-toggler-icon { filter: invert(1); }

/* Footer phân trang dính đáy card */
.card-footer-tight{ border-top:1px solid #dee2e6; background:#fff; }

/* Nhỏ tiện ích */
.text-brand{ color: var(--accent) !important; }

/* ==== Layout cố định chiều cao trang + vùng bảng scroll ==== */

/* Card-body co giãn theo chiều dọc, chiếm vừa khung nhìn */
.page-flex {
  display: flex;
  flex-direction: column;
  /* Điều chỉnh con số này để khớp header/sidebar của app bạn */
  height: calc(100vh - 90px);
  min-height: 0; /* quan trọng để cho phép con bên trong overflow */
}

/* Vùng lọc + actions ở trên, tự nhiên */
.page-flex .filters {
  margin-bottom: .75rem;
}

/* Vùng bảng scroll */
.table-zone {
  flex: 1 1 auto;       /* chiếm toàn bộ phần còn lại */
  min-height: 0;        /* cho phép overflow */
  overflow: auto;       /* scroll vertical khi cần */
  border-radius: .25rem;
}

/* Header bảng sticky */
.table-sticky thead th {
  position: sticky;
  top: 0;
  z-index: 1;
  background: var(--bs-light);
}

/* Bớt khoảng trống dưới */
.card { margin-bottom: 0; }
.card-body { padding-bottom: .75rem; }

/* Tùy chọn: co bớt padding hàng, bảng gọn hơn */
.table-tight td, .table-tight th {
  padding-top: .5rem;
  padding-bottom: .5rem;
}